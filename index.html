<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>James Turner</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/icon.png">
  <link rel="stylesheet" href="style.css">
  <!-- Font Awesome icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-pk6p5Yf7hQ6Q8a8OjY/8Lu8Qh1g9zxA+7rXz+ZPN6Fid4HvdJhju5ig3qF4J1r5W/o4e6OcG2Xjg2zzYTh3vEg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <!-- Move grain canvas to very top of body for full overlay -->
  <canvas class="grain" id="grain-canvas"></canvas>
  <!-- Add navigation links -->
  <div class="top-nav">
    <a href="#home" class="active">Home</a>
    <a href="#about">About</a>
    <a href="#projects">Projects</a>
    <a href="#footer-section">Contact</a>
  </div>
  <main id="home" class="main-section">
    <div class="main-content">
      <h1 class="big-title">
        <span class="line line1">aspiring</span>
  <span class="line line2">astrophysicist</span>
        <span class="line line3 clash">James</span>
        <span class="line line4 clash">Turner</span>
      </h1>
    </div>
  </main>
  <script>
    // Live animated film grain using canvas
    const canvas = document.getElementById('grain-canvas');
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    const ctx = canvas.getContext('2d');
    function drawGrain() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const time = performance.now() * 0.005;
      
      // Much denser grain with smaller particles
      const grainCount = (canvas.width * canvas.height) / 5; // Increased density
        // Full-screen pixel noise for visible grain
        const w = canvas.width;
        const h = canvas.height;
        const imageData = ctx.createImageData(w, h);
        const pixels = imageData.data;
        for (let i = 0; i < pixels.length; i += 4) {
          const v = (Math.random() * 255) | 0;
          pixels[i] = v;
          pixels[i + 1] = v;
          pixels[i + 2] = v;
          pixels[i + 3] = 50; // alpha (~0.2)
        }
        ctx.putImageData(imageData, 0, 0);
        requestAnimationFrame(drawGrain);
    }
    drawGrain();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/lenis@1.0.45/dist/lenis.min.js"></script>
  <script>
    // Lenis smooth scroll
    const lenis = new Lenis();
    function raf(time) {
      lenis.raf(time);
      requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);
  </script>
  <!-- About Me Section (now first after main) -->
  <section id="about" class="about-section">
    <div class="about-image-container">
      <img src="profile.png" alt="Profile Picture" class="profile-pic">
    </div>
    <div class="about-text-container">
      <h2>About Me</h2>
      <p>not sure what to add to this bit</p>
    </div>
  </section>
  <script>
    // Slide-in sidebar when About section is at least half visible
    const aboutSection = document.getElementById('about');
    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
          aboutSection.classList.add('in-view');
          obs.disconnect();
        }
      });
    }, { threshold: 0.5 });
    observer.observe(aboutSection);
  </script>
  <!-- Portfolio Section -->
  <section class="portfolio-section">
    <div class="projects-title-container">
      <h2 class="sr-only" id="projects-title">Projects</h2>
      <div class="projects-title-marquee" role="presentation" aria-hidden="true">
        <div class="projects-title-track">
          <span>Projects</span><span>Projects</span><span>Projects</span><span>Projects</span><span>Projects</span><span>Projects</span>
          <span>Projects</span><span>Projects</span>
          <span>Projects</span><span>Projects</span><span>Projects</span><span>Projects</span><span>Projects</span><span>Projects</span>
          <span>Projects</span><span>Projects</span>
        </div>
      </div>
    </div>
    <div class="projects" id="projects">
      <div class="project-card">
  <img src="images/transit.png" alt="Transit screenshot">
        <h3 class="project-card-title">Observing Transiting Exoplanets</h3>
        <p class="project-card-description">Used the Leicester University observatory to calculate the radii of exoplanets HAT-P 61 b, XO-3 b and unpublished candidate exoplanet TOI-3887 using measured decreased flux from their respective host stars. Making conclusions on not only the radius of each star but orbital and planetary characteristics.</p>
      </div>
      <div class="project-card">
        <img src="images/leaf.png" alt="Project 2 screenshot">
        <h3 class="project-card-title">Lunar Environment Assessor and Forecaster (LEAF)</h3>
        <p class="project-card-description">A project making it to the final of Space Park Leicester's Enterprise Challenge, the Lunar Environment Assessor and Forecaster (LEAF) is an application to monitor and predict environmental data on the lunar surface. Working with
              Meridian Space Command we used Python to create a data prediction model using machine learning.</p>
      </div>
      <div class="project-card">
        <img src="images/project3.jpg" alt="Project 3 screenshot">
        <h3 class="project-card-title">Project 3</h3>
        <p class="project-card-description">description</p>
      </div>
    </div>
  </section>
  <section id="new-section" class="new-section">
    <!-- empty space section -->
  </section>
  <section id="footer-section" class="site-footer">
    <div class="footer-content">
      <div class="footer-name clash">Contact</div>
      <div class="social-links">
          <a href="https://github.com/J4mesT" class="social-button github" target="_blank" rel="noopener">
            <img src="images/github-icon.png" alt="GitHub Icon" class="social-icon">GitHub
          </a>
          <a href="https://linkedin.com/in/jamesturneruk" class="social-button linkedin" target="_blank" rel="noopener">
            <img src="images/linkedin-icon.png" alt="LinkedIn Icon" class="social-icon">LinkedIn
          </a>
          <a href="contact.html" class="social-button message" target="_self" rel="noopener">
            <img src="images/mail-icon.png" alt="Mail Icon" class="social-icon">Message
          </a>
      </div>
    </div>
  </section>
  <script>
    // Smooth scroll nav links using Lenis
    document.querySelectorAll('.top-nav a').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          lenis.scrollTo(target);
        }
      });
    });
  </script>
</body>
</html>